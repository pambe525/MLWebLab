{% extends 'base.html' %}
{% block home_content %}
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  {% load static %}

  <div class="row mx-0 p-1 bg-dark">
    <!-- File input form  -->
    <form class="" id="datafile_form" action={% url 'index' %} method="POST">
        {% csrf_token %}
        <div class="row mx-0">
        <div class="input-group m-3">
            <span class="input-group-append label-dark m-2">{{ datafile_form.data_file.label_tag }}</span>
            <span id = "data_file_select" class="input-group-append">{{ datafile_form.data_file }}</span>
            <button type="submit" name="select_btn" class="btn input-group-append"
                    {% if select_btn_disabled %} disabled {% endif %}>
                    Select
            </button>
            <button type="submit" name="change_btn" class="btn input-group-append"
                    {% if change_btn_disabled %} disabled {% endif %}>
                    Change Data File
            </button>
        </div>
        </div>
    </form>
    <!-- /File input form  -->
    <!-- Message box -->
    <div id="msg_box" class="message-box row m-1 hidden">
        <span id="msg_text" class="col">{{  error_message }}</span>
        <button id="msg_box_close" type="button" class="close col-*">&times;</button>
    </div>
    <!-- /Message box -->
    </div>

<!-- Content Area -->
<div id="home_container" class="{% if not container_visible %}invisible{% endif %} container-fluid px-0">
    <nav class="bg-dark">
      <div class="nav nav-tabs bg-dark" id="nav-tab" role="tablist">
        <a class="nav-item nav-link {% if active_tab == "data_summary" %}active{% endif %}"
            id="nav-summary-tab" data-toggle="tab" href="#nav-summary" role="tab">
            <i class="fa fa-database mx-1"></i> Data Summary</a>
        <a class="nav-item nav-link {% if active_tab == "train" %}active{% endif %}"
            id="nav-train-tab" data-toggle="tab" href="#nav-train" role="tab">
            <i class="fa fa-clipboard-check mx-1"></i> Train Model</a>
      </div>
    <div class="tab-content bg-white" id="nav-tabContent">
      <div class="tab-pane show {% if active_tab == "data_summary" %}active{% endif %}" id="nav-summary" role="tabpanel">
          {% include "data_summary.html" %}
      </div>
      <div class="tab-pane {% if active_tab == "train" %}active{% endif %}" id="nav-train" role="tabpanel">
          {% include "train.html" %}
      </div>
    </div>
    </nav>
</div>
<!-- /Content Area -->
{% endblock home_content %}

{% block javascript %}
    <script type="text/javascript" src="{% static 'js/plotly-plots.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/home-view-controller.js' %}"></script>
{% endblock javascript %}